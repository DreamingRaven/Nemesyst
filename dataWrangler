#!/bin/bash
# if there are no cli arguments:
date
#dataFolder="scopeTest"
if [ $# -eq 0 ]; then
	# use defaults
	echo -e "[ dataWrangler ] No arguments, using defaults."
	dataFolder="../../DataSets/ml-20m/"
else
	echo -e "[ dataWrangler ] Arguments provided, setting."
	dataFolder=$1
fi

# debug
python ./Misc/debug.py
# data preperation
python ./Misc/movieLenseWrangler.py $dataFolder
python ./Misc/movieLenseDataCombiner.py $dataFolder
python ./Misc/monteCarlo.py $dataFolder "pML.csv"
# learning algorithms
python ./Misc/knn.py $dataFolder "test.csv" "train.csv" &
#mlpack_knn --reference_file=${dataFolder}train.csv --output_model_file=${dataFolder}mlpack_model_knn_out.txt
echo -e "[ mlpack_knn cpp ] Avante! Show that sh-ython whos boss."
mlpack_knn -q ${dataFolder}test_noLabel.csv -r ${dataFolder}train.csv -n ${dataFolder}neighbors_out.csv -d ${dataFolder}distances_out.csv -k 10 -v
#wait
